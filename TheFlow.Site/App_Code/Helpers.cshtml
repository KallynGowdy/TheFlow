@* Gets the path to the code style stylesheet based on the current user preferences. *@
@helper GetCodeStylePath(TheFlow.Api.Entities.User user = null)
{
    if (user == null)
    {
        user = TheFlow.Site.Controllers.ControllerHelper.Authenticate(Request);
    }
    if (user != null && user.Preferences != null)
    {
        switch (user.Preferences.CodeStyle)
        {
            case TheFlow.Api.Entities.CodeStyle.Default:
                __razor_helper_writer.Write(VirtualPathUtility.ToAbsolute("~/Content/prettyprint/TomorrowStyle.css"));
                break;
            default:
                __razor_helper_writer.Write(VirtualPathUtility.ToAbsolute(String.Format("~/Content/prettyprint/{0}Style.css", user.Preferences.CodeStyle.ToString())));
                break;
        }
    }
    else
    {
        __razor_helper_writer.Write(VirtualPathUtility.ToAbsolute("~/Content/prettyprint/TomorrowStyle.css"));
    }
}

@* Gets the path to the code style stylesheet based on the current user preferences. *@
@helper GetCodeStylePath(TheFlow.Api.Entities.CodeStyle codeStyle)
{
    switch (codeStyle)
    {
        case TheFlow.Api.Entities.CodeStyle.Default:
            __razor_helper_writer.Write(VirtualPathUtility.ToAbsolute("~/Content/prettyprint/TomorrowStyle.css"));
            break;
        default:
            __razor_helper_writer.Write(VirtualPathUtility.ToAbsolute(String.Format("/../Content/prettyprint/{0}Style.css", codeStyle.ToString())));
            break;
    }
}
